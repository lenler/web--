<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>06.axios错误处理</title>
</head>

<body>
  <button class="btn">注册用户</button>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    /*
      注册用户: http://hmajax.itheima.net/api/register
      请求方法: POST
      参数名:
        username: 用户名 (中英文和数字组成, 最少8位)
        password: 密码 (最少6位)

      目标: 点击按钮, 通过axios提交用户和密码, 完成注册
    */
   
    document.querySelector('button').onclick=()=>{
            axios({
            url:'http://hmajax.itheima.net/api/register',
            method:'post',
            data:{
                username:"user188889",
                password:'12345678'
            }
            }).then(res=>{
                console.log(res.data);
            }).catch(err=>{
           console.log(err.response.data);
            alert(err.response.data.message)
         })
      }
      /* - 
      请求行 ：包含请求方法（如GET、POST）、请求URL和HTTP协议版本。例如： GET /api/user HTTP/1.1
-     请求头 ：以键值对形式携带附加信息，比如 Content-Type 、 User-Agent 、 Cookie 等。
      空行 ：请求头和请求体之间有一个空行，表示分隔。
-     请求体 ：主要用于POST、PUT等方法，存放要提交给服务器的数据（如表单、JSON等）。 */
  </script>
</body>

</html>