<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=\, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    list-style: none;
  }
  a {
    color: aliceblue;
    font-size: 15px;
    border-radius: 5px;
    background-color: rgb(20, 149, 122);
    height: 20px;
    line-height: 20px;
    width: 20px;
    text-align: center;
    text-decoration: none;
  }
  body{
    justify-items: center;
    align-items: center;
  }
  ul{
    margin-top: 200px;
  }
  li{
    margin-top: 25px;
    display: flex;
    align-items: center;
    justify-content:space-between;
    line-height: 30px;
    padding: 0  15px;
    height: 30px;
    width: 200px;
    border:rgb(189, 126, 57) 2px solid ;
  }
  .remove{
    opacity: 0.1;
    background-color: #ccc;  /* 灰色背景 */
    transition: all 0.5s ease;  /* 0.5秒的过渡效果 */
}
</style>
<body>
  <ul>
    <li>1<a href="#">X</a></li>
    <li>1<a href="#">X</a></li>
    <li>1<a href="#">X</a></li>
  </ul>
</body>
<script>
  class Todo{
    constructor(){
      this.items=document.querySelectorAll('ul>li')
      this.lists=new WeakSet()
      this.items.forEach(element => {
        this.lists.add(element)  // 正确：添加单个列表项元素
      });
    }
    run(){
      this.addEvent()
    }
    addEvent(){
      this.items.forEach(items=>{
        let a=items.querySelector('a')
        a.addEventListener('click',event=>{
          const parentElement=event.target.parentElement;
          if(this.lists.has(parentElement)){
            parentElement.classList.add('remove')
            this.lists.delete(parentElement)
          }else{
            parentElement.classList.remove('remove')
            this.lists.add(parentElement)
          }
        })
      })
    }
  }
  new Todo().run();
</script>
</html>